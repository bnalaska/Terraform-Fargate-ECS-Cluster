{
  "format_version": "1.0",
  "terraform_version": "1.1.8",
  "variables": {
    "aws_access_key": {
      "value": "AKIA5OKJEC3GRMBJLUHO"
    },
    "aws_secret_key": {
      "value": "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"
    }
  },
  "planned_values": {
    "root_module": {
      "resources": [
        {
          "address": "aws_ecs_cluster.cluster",
          "mode": "managed",
          "type": "aws_ecs_cluster",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
            "capacity_providers": [
              "FARGATE",
              "FARGATE_SPOT"
            ],
            "configuration": [],
            "default_capacity_provider_strategy": [
              {
                "base": 0,
                "capacity_provider": "FARGATE_SPOT",
                "weight": 0
              }
            ],
            "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
            "name": "Test-ecs-cluster",
            "setting": [
              {
                "name": "containerInsights",
                "value": "disabled"
              }
            ],
            "tags": {},
            "tags_all": {}
          },
          "sensitive_values": {
            "capacity_providers": [
              false,
              false
            ],
            "configuration": [],
            "default_capacity_provider_strategy": [
              {}
            ],
            "setting": [
              {}
            ],
            "tags": {},
            "tags_all": {}
          }
        },
        {
          "address": "aws_ecs_cluster_capacity_providers.cluster",
          "mode": "managed",
          "type": "aws_ecs_cluster_capacity_providers",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "schema_version": 0,
          "values": {
            "capacity_providers": [
              "FARGATE",
              "FARGATE_SPOT"
            ],
            "cluster_name": "Test-ecs-cluster",
            "default_capacity_provider_strategy": [
              {
                "base": 0,
                "capacity_provider": "FARGATE_SPOT",
                "weight": 0
              }
            ],
            "id": "Test-ecs-cluster"
          },
          "sensitive_values": {
            "capacity_providers": [
              false,
              false
            ],
            "default_capacity_provider_strategy": [
              {}
            ]
          }
        }
      ],
      "child_modules": [
        {
          "resources": [
            {
              "address": "module.ecs-fargate.aws_cloudwatch_log_group.main",
              "mode": "managed",
              "type": "aws_cloudwatch_log_group",
              "name": "main",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example",
                "id": "ecs-fargate-example",
                "kms_key_id": "",
                "name": "ecs-fargate-example",
                "name_prefix": null,
                "retention_in_days": 30,
                "tags": {
                  "Environment": "Week17",
                  "Project": "Test"
                },
                "tags_all": {
                  "Environment": "Week17",
                  "Project": "Test"
                }
              },
              "sensitive_values": {
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_ecs_service.service",
              "mode": "managed",
              "type": "aws_ecs_service",
              "name": "service",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "capacity_provider_strategy": [],
                "cluster": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
                "deployment_circuit_breaker": [],
                "deployment_controller": [
                  {
                    "type": "ECS"
                  }
                ],
                "deployment_maximum_percent": 200,
                "deployment_minimum_healthy_percent": 50,
                "desired_count": 1,
                "enable_ecs_managed_tags": false,
                "enable_execute_command": true,
                "force_new_deployment": false,
                "health_check_grace_period_seconds": 300,
                "launch_type": "FARGATE",
                "load_balancer": [
                  {
                    "container_name": "ecs-fargate-example",
                    "container_port": 80,
                    "elb_name": "",
                    "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc"
                  }
                ],
                "name": "ecs-fargate-example",
                "network_configuration": [
                  {
                    "assign_public_ip": true,
                    "security_groups": [
                      "sg-0a1abc8a3a4db2c52"
                    ],
                    "subnets": [
                      "subnet-0b3232739afacf85f",
                      "subnet-0c3ed3bf5493e95a3"
                    ]
                  }
                ],
                "ordered_placement_strategy": [],
                "placement_constraints": [],
                "platform_version": "LATEST",
                "propagate_tags": "TASK_DEFINITION",
                "scheduling_strategy": "REPLICA",
                "service_registries": [],
                "tags": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example-service",
                  "Project": "Test"
                },
                "tags_all": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example-service",
                  "Project": "Test"
                },
                "task_definition": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
                "timeouts": null,
                "wait_for_steady_state": false
              },
              "sensitive_values": {
                "capacity_provider_strategy": [],
                "deployment_circuit_breaker": [],
                "deployment_controller": [
                  {}
                ],
                "load_balancer": [
                  {}
                ],
                "network_configuration": [
                  {
                    "security_groups": [
                      false
                    ],
                    "subnets": [
                      false,
                      false
                    ]
                  }
                ],
                "ordered_placement_strategy": [],
                "placement_constraints": [],
                "service_registries": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_ecs_task_definition.task",
              "mode": "managed",
              "type": "aws_ecs_task_definition",
              "name": "task",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
                "container_definitions": "[{\"command\":[],\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"centos\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-fargate-example\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"container\"}},\"mountPoints\":[],\"name\":\"ecs-fargate-example\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                "cpu": "256",
                "ephemeral_storage": [],
                "execution_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
                "family": "ecs-fargate-example",
                "id": "ecs-fargate-example",
                "inference_accelerator": [],
                "ipc_mode": "",
                "memory": "512",
                "network_mode": "awsvpc",
                "pid_mode": "",
                "placement_constraints": [],
                "proxy_configuration": [],
                "requires_compatibilities": [
                  "FARGATE"
                ],
                "revision": 2,
                "runtime_platform": [],
                "skip_destroy": false,
                "tags": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example",
                  "Project": "Test"
                },
                "tags_all": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example",
                  "Project": "Test"
                },
                "task_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
                "volume": []
              },
              "sensitive_values": {
                "ephemeral_storage": [],
                "inference_accelerator": [],
                "placement_constraints": [],
                "proxy_configuration": [],
                "requires_compatibilities": [
                  false
                ],
                "runtime_platform": [],
                "tags": {},
                "tags_all": {},
                "volume": []
              }
            },
            {
              "address": "module.ecs-fargate.aws_iam_role.execution",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "execution",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
                "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                "create_date": "2022-04-27T00:00:09Z",
                "description": "",
                "force_detach_policies": false,
                "id": "ecs-fargate-example-task-execution-role",
                "inline_policy": [
                  {
                    "name": "ecs-fargate-example-task-execution",
                    "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                  }
                ],
                "managed_policy_arns": [],
                "max_session_duration": 3600,
                "name": "ecs-fargate-example-task-execution-role",
                "name_prefix": "",
                "path": "/",
                "permissions_boundary": null,
                "tags": {},
                "tags_all": {},
                "unique_id": "AROA5OKJEC3G44QI4DARQ"
              },
              "sensitive_values": {
                "inline_policy": [
                  {}
                ],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_iam_role.task",
              "mode": "managed",
              "type": "aws_iam_role",
              "name": "task",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
                "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                "create_date": "2022-04-27T00:00:09Z",
                "description": "",
                "force_detach_policies": false,
                "id": "ecs-fargate-example-task-role",
                "inline_policy": [
                  {
                    "name": "ecs-fargate-example-ecs-exec-permissions",
                    "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                  },
                  {
                    "name": "ecs-fargate-example-log-permissions",
                    "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}"
                  }
                ],
                "managed_policy_arns": [],
                "max_session_duration": 3600,
                "name": "ecs-fargate-example-task-role",
                "name_prefix": "",
                "path": "/",
                "permissions_boundary": null,
                "tags": {},
                "tags_all": {},
                "unique_id": "AROA5OKJEC3GTBTCO7KKC"
              },
              "sensitive_values": {
                "inline_policy": [
                  {},
                  {}
                ],
                "managed_policy_arns": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_iam_role_policy.ecs_exec_inline_policy[0]",
              "mode": "managed",
              "type": "aws_iam_role_policy",
              "name": "ecs_exec_inline_policy",
              "index": 0,
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "id": "ecs-fargate-example-task-role:ecs-fargate-example-ecs-exec-permissions",
                "name": "ecs-fargate-example-ecs-exec-permissions",
                "name_prefix": null,
                "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                "role": "ecs-fargate-example-task-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.ecs-fargate.aws_iam_role_policy.log_agent",
              "mode": "managed",
              "type": "aws_iam_role_policy",
              "name": "log_agent",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "id": "ecs-fargate-example-task-role:ecs-fargate-example-log-permissions",
                "name": "ecs-fargate-example-log-permissions",
                "name_prefix": null,
                "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}",
                "role": "ecs-fargate-example-task-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.ecs-fargate.aws_iam_role_policy.task_execution",
              "mode": "managed",
              "type": "aws_iam_role_policy",
              "name": "task_execution",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "id": "ecs-fargate-example-task-execution-role:ecs-fargate-example-task-execution",
                "name": "ecs-fargate-example-task-execution",
                "name_prefix": null,
                "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                "role": "ecs-fargate-example-task-execution-role"
              },
              "sensitive_values": {}
            },
            {
              "address": "module.ecs-fargate.aws_lb_target_group.task[\"tg-fargate-example\"]",
              "mode": "managed",
              "type": "aws_lb_target_group",
              "name": "task",
              "index": "tg-fargate-example",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 0,
              "values": {
                "arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                "arn_suffix": "targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                "connection_termination": false,
                "deregistration_delay": "300",
                "health_check": [
                  {
                    "enabled": true,
                    "healthy_threshold": 3,
                    "interval": 30,
                    "matcher": "200",
                    "path": "/",
                    "port": "traffic-port",
                    "protocol": "HTTP",
                    "timeout": 5,
                    "unhealthy_threshold": 3
                  }
                ],
                "id": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                "lambda_multi_value_headers_enabled": false,
                "load_balancing_algorithm_type": "round_robin",
                "name": "tg-fargate-example",
                "name_prefix": null,
                "port": 80,
                "preserve_client_ip": null,
                "protocol": "HTTP",
                "protocol_version": "HTTP1",
                "proxy_protocol_v2": false,
                "slow_start": 0,
                "stickiness": [
                  {
                    "cookie_duration": 86400,
                    "cookie_name": "",
                    "enabled": false,
                    "type": "lb_cookie"
                  }
                ],
                "tags": {
                  "Environment": "Week17",
                  "Name": "tg-fargate-example",
                  "Project": "Test"
                },
                "tags_all": {
                  "Environment": "Week17",
                  "Name": "tg-fargate-example",
                  "Project": "Test"
                },
                "target_type": "ip",
                "vpc_id": "vpc-0cd6259a3297c6623"
              },
              "sensitive_values": {
                "health_check": [
                  {}
                ],
                "stickiness": [
                  {}
                ],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_security_group.ecs_service",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "ecs_service",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 1,
              "values": {
                "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
                "description": "Fargate service security group",
                "egress": [
                  {
                    "cidr_blocks": [
                      "0.0.0.0/0"
                    ],
                    "description": "",
                    "from_port": 0,
                    "ipv6_cidr_blocks": [
                      "::/0"
                    ],
                    "prefix_list_ids": [],
                    "protocol": "-1",
                    "security_groups": [],
                    "self": false,
                    "to_port": 0
                  }
                ],
                "id": "sg-0a1abc8a3a4db2c52",
                "ingress": [],
                "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
                "name_prefix": "ecs-fargate-example-ecs-service-sg-",
                "owner_id": "924108199629",
                "revoke_rules_on_delete": true,
                "tags": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example-ecs-service-sg",
                  "Project": "Test"
                },
                "tags_all": {
                  "Environment": "Week17",
                  "Name": "ecs-fargate-example-ecs-service-sg",
                  "Project": "Test"
                },
                "timeouts": null,
                "vpc_id": "vpc-0cd6259a3297c6623"
              },
              "sensitive_values": {
                "egress": [
                  {
                    "cidr_blocks": [
                      false
                    ],
                    "ipv6_cidr_blocks": [
                      false
                    ],
                    "prefix_list_ids": [],
                    "security_groups": []
                  }
                ],
                "ingress": [],
                "tags": {},
                "tags_all": {}
              }
            },
            {
              "address": "module.ecs-fargate.aws_security_group_rule.egress_service",
              "mode": "managed",
              "type": "aws_security_group_rule",
              "name": "egress_service",
              "provider_name": "registry.terraform.io/hashicorp/aws",
              "schema_version": 2,
              "values": {
                "cidr_blocks": [
                  "0.0.0.0/0"
                ],
                "description": "",
                "from_port": 0,
                "id": "sgrule-3936769577",
                "ipv6_cidr_blocks": [
                  "::/0"
                ],
                "prefix_list_ids": [],
                "protocol": "-1",
                "security_group_id": "sg-0a1abc8a3a4db2c52",
                "self": false,
                "source_security_group_id": null,
                "to_port": 0,
                "type": "egress"
              },
              "sensitive_values": {
                "cidr_blocks": [
                  false
                ],
                "ipv6_cidr_blocks": [
                  false
                ],
                "prefix_list_ids": []
              }
            }
          ],
          "address": "module.ecs-fargate"
        }
      ]
    }
  },
  "resource_drift": [
    {
      "address": "aws_ecs_cluster.cluster",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "capacity_providers": [],
          "configuration": [],
          "default_capacity_provider_strategy": [],
          "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "name": "Test-ecs-cluster",
          "setting": [
            {
              "name": "containerInsights",
              "value": "disabled"
            }
          ],
          "tags": null,
          "tags_all": {}
        },
        "after": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "capacity_providers": [
            "FARGATE",
            "FARGATE_SPOT"
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {
              "base": 0,
              "capacity_provider": "FARGATE_SPOT",
              "weight": 0
            }
          ],
          "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "name": "Test-ecs-cluster",
          "setting": [
            {
              "name": "containerInsights",
              "value": "disabled"
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_unknown": {},
        "before_sensitive": {
          "capacity_providers": [],
          "configuration": [],
          "default_capacity_provider_strategy": [],
          "setting": [
            {}
          ],
          "tags_all": {}
        },
        "after_sensitive": {
          "capacity_providers": [
            false,
            false
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {}
          ],
          "setting": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role.execution",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "execution",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-execution-role",
          "inline_policy": [
            {
              "name": "",
              "policy": ""
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-execution-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": null,
          "tags_all": {},
          "unique_id": "AROA5OKJEC3G44QI4DARQ"
        },
        "after": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-execution-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-task-execution",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-execution-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3G44QI4DARQ"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [
            {}
          ],
          "managed_policy_arns": [],
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role.task",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "task",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-role",
          "inline_policy": [
            {
              "name": "",
              "policy": ""
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": null,
          "tags_all": {},
          "unique_id": "AROA5OKJEC3GTBTCO7KKC"
        },
        "after": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-ecs-exec-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            },
            {
              "name": "ecs-fargate-example-log-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3GTBTCO7KKC"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [
            {}
          ],
          "managed_policy_arns": [],
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [
            {},
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_security_group.ecs_service",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
          "description": "Fargate service security group",
          "egress": [],
          "id": "sg-0a1abc8a3a4db2c52",
          "ingress": [],
          "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
          "name_prefix": "ecs-fargate-example-ecs-service-sg-",
          "owner_id": "924108199629",
          "revoke_rules_on_delete": true,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "timeouts": null,
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
          "description": "Fargate service security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [
                "::/0"
              ],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0a1abc8a3a4db2c52",
          "ingress": [],
          "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
          "name_prefix": "ecs-fargate-example-ecs-service-sg-",
          "owner_id": "924108199629",
          "revoke_rules_on_delete": true,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "timeouts": null,
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [
                false
              ],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_security_group_rule.egress_service",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "update"
        ],
        "before": {
          "cidr_blocks": [
            "0.0.0.0/0"
          ],
          "description": null,
          "from_port": 0,
          "id": "sgrule-3936769577",
          "ipv6_cidr_blocks": [
            "::/0"
          ],
          "prefix_list_ids": null,
          "protocol": "-1",
          "security_group_id": "sg-0a1abc8a3a4db2c52",
          "self": false,
          "source_security_group_id": null,
          "to_port": 0,
          "type": "egress"
        },
        "after": {
          "cidr_blocks": [
            "0.0.0.0/0"
          ],
          "description": "",
          "from_port": 0,
          "id": "sgrule-3936769577",
          "ipv6_cidr_blocks": [
            "::/0"
          ],
          "prefix_list_ids": [],
          "protocol": "-1",
          "security_group_id": "sg-0a1abc8a3a4db2c52",
          "self": false,
          "source_security_group_id": null,
          "to_port": 0,
          "type": "egress"
        },
        "after_unknown": {},
        "before_sensitive": {
          "cidr_blocks": [
            false
          ],
          "ipv6_cidr_blocks": [
            false
          ]
        },
        "after_sensitive": {
          "cidr_blocks": [
            false
          ],
          "ipv6_cidr_blocks": [
            false
          ],
          "prefix_list_ids": []
        }
      }
    }
  ],
  "resource_changes": [
    {
      "address": "aws_ecs_cluster.cluster",
      "mode": "managed",
      "type": "aws_ecs_cluster",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "capacity_providers": [
            "FARGATE",
            "FARGATE_SPOT"
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {
              "base": 0,
              "capacity_provider": "FARGATE_SPOT",
              "weight": 0
            }
          ],
          "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "name": "Test-ecs-cluster",
          "setting": [
            {
              "name": "containerInsights",
              "value": "disabled"
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "capacity_providers": [
            "FARGATE",
            "FARGATE_SPOT"
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {
              "base": 0,
              "capacity_provider": "FARGATE_SPOT",
              "weight": 0
            }
          ],
          "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "name": "Test-ecs-cluster",
          "setting": [
            {
              "name": "containerInsights",
              "value": "disabled"
            }
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_unknown": {},
        "before_sensitive": {
          "capacity_providers": [
            false,
            false
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {}
          ],
          "setting": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "capacity_providers": [
            false,
            false
          ],
          "configuration": [],
          "default_capacity_provider_strategy": [
            {}
          ],
          "setting": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "aws_ecs_cluster_capacity_providers.cluster",
      "mode": "managed",
      "type": "aws_ecs_cluster_capacity_providers",
      "name": "cluster",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "capacity_providers": [
            "FARGATE",
            "FARGATE_SPOT"
          ],
          "cluster_name": "Test-ecs-cluster",
          "default_capacity_provider_strategy": [
            {
              "base": 0,
              "capacity_provider": "FARGATE_SPOT",
              "weight": 0
            }
          ],
          "id": "Test-ecs-cluster"
        },
        "after": {
          "capacity_providers": [
            "FARGATE",
            "FARGATE_SPOT"
          ],
          "cluster_name": "Test-ecs-cluster",
          "default_capacity_provider_strategy": [
            {
              "base": 0,
              "capacity_provider": "FARGATE_SPOT",
              "weight": 0
            }
          ],
          "id": "Test-ecs-cluster"
        },
        "after_unknown": {},
        "before_sensitive": {
          "capacity_providers": [
            false,
            false
          ],
          "default_capacity_provider_strategy": [
            {}
          ]
        },
        "after_sensitive": {
          "capacity_providers": [
            false,
            false
          ],
          "default_capacity_provider_strategy": [
            {}
          ]
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_cloudwatch_log_group.main",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_cloudwatch_log_group",
      "name": "main",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example",
          "id": "ecs-fargate-example",
          "kms_key_id": "",
          "name": "ecs-fargate-example",
          "name_prefix": null,
          "retention_in_days": 30,
          "tags": {
            "Environment": "Week17",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Project": "Test"
          }
        },
        "after": {
          "arn": "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example",
          "id": "ecs-fargate-example",
          "kms_key_id": "",
          "name": "ecs-fargate-example",
          "name_prefix": null,
          "retention_in_days": 30,
          "tags": {
            "Environment": "Week17",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Project": "Test"
          }
        },
        "after_unknown": {},
        "before_sensitive": {
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_ecs_service.service",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_ecs_service",
      "name": "service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "create"
        ],
        "before": null,
        "after": {
          "capacity_provider_strategy": [],
          "cluster": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
          "deployment_circuit_breaker": [],
          "deployment_controller": [
            {
              "type": "ECS"
            }
          ],
          "deployment_maximum_percent": 200,
          "deployment_minimum_healthy_percent": 50,
          "desired_count": 1,
          "enable_ecs_managed_tags": false,
          "enable_execute_command": true,
          "force_new_deployment": false,
          "health_check_grace_period_seconds": 300,
          "launch_type": "FARGATE",
          "load_balancer": [
            {
              "container_name": "ecs-fargate-example",
              "container_port": 80,
              "elb_name": "",
              "target_group_arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc"
            }
          ],
          "name": "ecs-fargate-example",
          "network_configuration": [
            {
              "assign_public_ip": true,
              "security_groups": [
                "sg-0a1abc8a3a4db2c52"
              ],
              "subnets": [
                "subnet-0b3232739afacf85f",
                "subnet-0c3ed3bf5493e95a3"
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "platform_version": "LATEST",
          "propagate_tags": "TASK_DEFINITION",
          "scheduling_strategy": "REPLICA",
          "service_registries": [],
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-service",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-service",
            "Project": "Test"
          },
          "task_definition": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
          "timeouts": null,
          "wait_for_steady_state": false
        },
        "after_unknown": {
          "capacity_provider_strategy": [],
          "deployment_circuit_breaker": [],
          "deployment_controller": [
            {}
          ],
          "iam_role": true,
          "id": true,
          "load_balancer": [
            {}
          ],
          "network_configuration": [
            {
              "security_groups": [
                false
              ],
              "subnets": [
                false,
                false
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "service_registries": [],
          "tags": {},
          "tags_all": {}
        },
        "before_sensitive": false,
        "after_sensitive": {
          "capacity_provider_strategy": [],
          "deployment_circuit_breaker": [],
          "deployment_controller": [
            {}
          ],
          "load_balancer": [
            {}
          ],
          "network_configuration": [
            {
              "security_groups": [
                false
              ],
              "subnets": [
                false,
                false
              ]
            }
          ],
          "ordered_placement_strategy": [],
          "placement_constraints": [],
          "service_registries": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_ecs_task_definition.task",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_ecs_task_definition",
      "name": "task",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
          "container_definitions": "[{\"command\":[],\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"centos\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-fargate-example\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"container\"}},\"mountPoints\":[],\"name\":\"ecs-fargate-example\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
          "cpu": "256",
          "ephemeral_storage": [],
          "execution_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "family": "ecs-fargate-example",
          "id": "ecs-fargate-example",
          "inference_accelerator": [],
          "ipc_mode": "",
          "memory": "512",
          "network_mode": "awsvpc",
          "pid_mode": "",
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            "FARGATE"
          ],
          "revision": 2,
          "runtime_platform": [],
          "skip_destroy": false,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example",
            "Project": "Test"
          },
          "task_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "volume": []
        },
        "after": {
          "arn": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
          "container_definitions": "[{\"command\":[],\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"centos\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-fargate-example\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"container\"}},\"mountPoints\":[],\"name\":\"ecs-fargate-example\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
          "cpu": "256",
          "ephemeral_storage": [],
          "execution_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "family": "ecs-fargate-example",
          "id": "ecs-fargate-example",
          "inference_accelerator": [],
          "ipc_mode": "",
          "memory": "512",
          "network_mode": "awsvpc",
          "pid_mode": "",
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            "FARGATE"
          ],
          "revision": 2,
          "runtime_platform": [],
          "skip_destroy": false,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example",
            "Project": "Test"
          },
          "task_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "volume": []
        },
        "after_unknown": {},
        "before_sensitive": {
          "ephemeral_storage": [],
          "inference_accelerator": [],
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            false
          ],
          "runtime_platform": [],
          "tags": {},
          "tags_all": {},
          "volume": []
        },
        "after_sensitive": {
          "ephemeral_storage": [],
          "inference_accelerator": [],
          "placement_constraints": [],
          "proxy_configuration": [],
          "requires_compatibilities": [
            false
          ],
          "runtime_platform": [],
          "tags": {},
          "tags_all": {},
          "volume": []
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role.execution",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "execution",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-execution-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-task-execution",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-execution-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3G44QI4DARQ"
        },
        "after": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-execution-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-task-execution",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-execution-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3G44QI4DARQ"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role.task",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role",
      "name": "task",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-ecs-exec-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            },
            {
              "name": "ecs-fargate-example-log-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3GTBTCO7KKC"
        },
        "after": {
          "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
          "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
          "create_date": "2022-04-27T00:00:09Z",
          "description": "",
          "force_detach_policies": false,
          "id": "ecs-fargate-example-task-role",
          "inline_policy": [
            {
              "name": "ecs-fargate-example-ecs-exec-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
            },
            {
              "name": "ecs-fargate-example-log-permissions",
              "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}"
            }
          ],
          "managed_policy_arns": [],
          "max_session_duration": 3600,
          "name": "ecs-fargate-example-task-role",
          "name_prefix": "",
          "path": "/",
          "permissions_boundary": null,
          "tags": {},
          "tags_all": {},
          "unique_id": "AROA5OKJEC3GTBTCO7KKC"
        },
        "after_unknown": {},
        "before_sensitive": {
          "inline_policy": [
            {},
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "inline_policy": [
            {},
            {}
          ],
          "managed_policy_arns": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role_policy.ecs_exec_inline_policy[0]",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "ecs_exec_inline_policy",
      "index": 0,
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ecs-fargate-example-task-role:ecs-fargate-example-ecs-exec-permissions",
          "name": "ecs-fargate-example-ecs-exec-permissions",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-role"
        },
        "after": {
          "id": "ecs-fargate-example-task-role:ecs-fargate-example-ecs-exec-permissions",
          "name": "ecs-fargate-example-ecs-exec-permissions",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role_policy.log_agent",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "log_agent",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ecs-fargate-example-task-role:ecs-fargate-example-log-permissions",
          "name": "ecs-fargate-example-log-permissions",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-role"
        },
        "after": {
          "id": "ecs-fargate-example-task-role:ecs-fargate-example-log-permissions",
          "name": "ecs-fargate-example-log-permissions",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.ecs-fargate.aws_iam_role_policy.task_execution",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_iam_role_policy",
      "name": "task_execution",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "id": "ecs-fargate-example-task-execution-role:ecs-fargate-example-task-execution",
          "name": "ecs-fargate-example-task-execution",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-execution-role"
        },
        "after": {
          "id": "ecs-fargate-example-task-execution-role:ecs-fargate-example-task-execution",
          "name": "ecs-fargate-example-task-execution",
          "name_prefix": null,
          "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
          "role": "ecs-fargate-example-task-execution-role"
        },
        "after_unknown": {},
        "before_sensitive": {},
        "after_sensitive": {}
      }
    },
    {
      "address": "module.ecs-fargate.aws_lb_target_group.task[\"tg-fargate-example\"]",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_lb_target_group",
      "name": "task",
      "index": "tg-fargate-example",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "arn_suffix": "targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "connection_termination": false,
          "deregistration_delay": "300",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 3,
              "interval": 30,
              "matcher": "200",
              "path": "/",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 5,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "lambda_multi_value_headers_enabled": false,
          "load_balancing_algorithm_type": "round_robin",
          "name": "tg-fargate-example",
          "name_prefix": null,
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Environment": "Week17",
            "Name": "tg-fargate-example",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "tg-fargate-example",
            "Project": "Test"
          },
          "target_type": "ip",
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after": {
          "arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "arn_suffix": "targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "connection_termination": false,
          "deregistration_delay": "300",
          "health_check": [
            {
              "enabled": true,
              "healthy_threshold": 3,
              "interval": 30,
              "matcher": "200",
              "path": "/",
              "port": "traffic-port",
              "protocol": "HTTP",
              "timeout": 5,
              "unhealthy_threshold": 3
            }
          ],
          "id": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
          "lambda_multi_value_headers_enabled": false,
          "load_balancing_algorithm_type": "round_robin",
          "name": "tg-fargate-example",
          "name_prefix": null,
          "port": 80,
          "preserve_client_ip": null,
          "protocol": "HTTP",
          "protocol_version": "HTTP1",
          "proxy_protocol_v2": false,
          "slow_start": 0,
          "stickiness": [
            {
              "cookie_duration": 86400,
              "cookie_name": "",
              "enabled": false,
              "type": "lb_cookie"
            }
          ],
          "tags": {
            "Environment": "Week17",
            "Name": "tg-fargate-example",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "tg-fargate-example",
            "Project": "Test"
          },
          "target_type": "ip",
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after_unknown": {},
        "before_sensitive": {
          "health_check": [
            {}
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "health_check": [
            {}
          ],
          "stickiness": [
            {}
          ],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_security_group.ecs_service",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_security_group",
      "name": "ecs_service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
          "description": "Fargate service security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [
                "::/0"
              ],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0a1abc8a3a4db2c52",
          "ingress": [],
          "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
          "name_prefix": "ecs-fargate-example-ecs-service-sg-",
          "owner_id": "924108199629",
          "revoke_rules_on_delete": true,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "timeouts": null,
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after": {
          "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
          "description": "Fargate service security group",
          "egress": [
            {
              "cidr_blocks": [
                "0.0.0.0/0"
              ],
              "description": "",
              "from_port": 0,
              "ipv6_cidr_blocks": [
                "::/0"
              ],
              "prefix_list_ids": [],
              "protocol": "-1",
              "security_groups": [],
              "self": false,
              "to_port": 0
            }
          ],
          "id": "sg-0a1abc8a3a4db2c52",
          "ingress": [],
          "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
          "name_prefix": "ecs-fargate-example-ecs-service-sg-",
          "owner_id": "924108199629",
          "revoke_rules_on_delete": true,
          "tags": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "tags_all": {
            "Environment": "Week17",
            "Name": "ecs-fargate-example-ecs-service-sg",
            "Project": "Test"
          },
          "timeouts": null,
          "vpc_id": "vpc-0cd6259a3297c6623"
        },
        "after_unknown": {},
        "before_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [
                false
              ],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        },
        "after_sensitive": {
          "egress": [
            {
              "cidr_blocks": [
                false
              ],
              "ipv6_cidr_blocks": [
                false
              ],
              "prefix_list_ids": [],
              "security_groups": []
            }
          ],
          "ingress": [],
          "tags": {},
          "tags_all": {}
        }
      }
    },
    {
      "address": "module.ecs-fargate.aws_security_group_rule.egress_service",
      "module_address": "module.ecs-fargate",
      "mode": "managed",
      "type": "aws_security_group_rule",
      "name": "egress_service",
      "provider_name": "registry.terraform.io/hashicorp/aws",
      "change": {
        "actions": [
          "no-op"
        ],
        "before": {
          "cidr_blocks": [
            "0.0.0.0/0"
          ],
          "description": "",
          "from_port": 0,
          "id": "sgrule-3936769577",
          "ipv6_cidr_blocks": [
            "::/0"
          ],
          "prefix_list_ids": [],
          "protocol": "-1",
          "security_group_id": "sg-0a1abc8a3a4db2c52",
          "self": false,
          "source_security_group_id": null,
          "to_port": 0,
          "type": "egress"
        },
        "after": {
          "cidr_blocks": [
            "0.0.0.0/0"
          ],
          "description": "",
          "from_port": 0,
          "id": "sgrule-3936769577",
          "ipv6_cidr_blocks": [
            "::/0"
          ],
          "prefix_list_ids": [],
          "protocol": "-1",
          "security_group_id": "sg-0a1abc8a3a4db2c52",
          "self": false,
          "source_security_group_id": null,
          "to_port": 0,
          "type": "egress"
        },
        "after_unknown": {},
        "before_sensitive": {
          "cidr_blocks": [
            false
          ],
          "ipv6_cidr_blocks": [
            false
          ],
          "prefix_list_ids": []
        },
        "after_sensitive": {
          "cidr_blocks": [
            false
          ],
          "ipv6_cidr_blocks": [
            false
          ],
          "prefix_list_ids": []
        }
      }
    }
  ],
  "prior_state": {
    "format_version": "1.0",
    "terraform_version": "1.1.8",
    "values": {
      "root_module": {
        "resources": [
          {
            "address": "aws_ecs_cluster.cluster",
            "mode": "managed",
            "type": "aws_ecs_cluster",
            "name": "cluster",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "arn": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
              "capacity_providers": [
                "FARGATE",
                "FARGATE_SPOT"
              ],
              "configuration": [],
              "default_capacity_provider_strategy": [
                {
                  "base": 0,
                  "capacity_provider": "FARGATE_SPOT",
                  "weight": 0
                }
              ],
              "id": "arn:aws:ecs:us-east-1:924108199629:cluster/Test-ecs-cluster",
              "name": "Test-ecs-cluster",
              "setting": [
                {
                  "name": "containerInsights",
                  "value": "disabled"
                }
              ],
              "tags": {},
              "tags_all": {}
            },
            "sensitive_values": {
              "capacity_providers": [
                false,
                false
              ],
              "configuration": [],
              "default_capacity_provider_strategy": [
                {}
              ],
              "setting": [
                {}
              ],
              "tags": {},
              "tags_all": {}
            }
          },
          {
            "address": "aws_ecs_cluster_capacity_providers.cluster",
            "mode": "managed",
            "type": "aws_ecs_cluster_capacity_providers",
            "name": "cluster",
            "provider_name": "registry.terraform.io/hashicorp/aws",
            "schema_version": 0,
            "values": {
              "capacity_providers": [
                "FARGATE",
                "FARGATE_SPOT"
              ],
              "cluster_name": "Test-ecs-cluster",
              "default_capacity_provider_strategy": [
                {
                  "base": 0,
                  "capacity_provider": "FARGATE_SPOT",
                  "weight": 0
                }
              ],
              "id": "Test-ecs-cluster"
            },
            "sensitive_values": {
              "capacity_providers": [
                false,
                false
              ],
              "default_capacity_provider_strategy": [
                {}
              ]
            },
            "depends_on": [
              "aws_ecs_cluster.cluster"
            ]
          }
        ],
        "child_modules": [
          {
            "resources": [
              {
                "address": "module.ecs-fargate.aws_cloudwatch_log_group.main",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "main",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example",
                  "id": "ecs-fargate-example",
                  "kms_key_id": "",
                  "name": "ecs-fargate-example",
                  "name_prefix": null,
                  "retention_in_days": 30,
                  "tags": {
                    "Environment": "Week17",
                    "Project": "Test"
                  },
                  "tags_all": {
                    "Environment": "Week17",
                    "Project": "Test"
                  }
                },
                "sensitive_values": {
                  "tags": {},
                  "tags_all": {}
                }
              },
              {
                "address": "module.ecs-fargate.aws_ecs_task_definition.task",
                "mode": "managed",
                "type": "aws_ecs_task_definition",
                "name": "task",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ecs:us-east-1:924108199629:task-definition/ecs-fargate-example:2",
                  "container_definitions": "[{\"command\":[],\"cpu\":0,\"environment\":[],\"essential\":true,\"image\":\"centos\",\"logConfiguration\":{\"logDriver\":\"awslogs\",\"options\":{\"awslogs-group\":\"ecs-fargate-example\",\"awslogs-region\":\"us-east-1\",\"awslogs-stream-prefix\":\"container\"}},\"mountPoints\":[],\"name\":\"ecs-fargate-example\",\"portMappings\":[{\"containerPort\":80,\"hostPort\":80,\"protocol\":\"tcp\"}],\"volumesFrom\":[]}]",
                  "cpu": "256",
                  "ephemeral_storage": [],
                  "execution_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
                  "family": "ecs-fargate-example",
                  "id": "ecs-fargate-example",
                  "inference_accelerator": [],
                  "ipc_mode": "",
                  "memory": "512",
                  "network_mode": "awsvpc",
                  "pid_mode": "",
                  "placement_constraints": [],
                  "proxy_configuration": [],
                  "requires_compatibilities": [
                    "FARGATE"
                  ],
                  "revision": 2,
                  "runtime_platform": [],
                  "skip_destroy": false,
                  "tags": {
                    "Environment": "Week17",
                    "Name": "ecs-fargate-example",
                    "Project": "Test"
                  },
                  "tags_all": {
                    "Environment": "Week17",
                    "Name": "ecs-fargate-example",
                    "Project": "Test"
                  },
                  "task_role_arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
                  "volume": []
                },
                "sensitive_values": {
                  "ephemeral_storage": [],
                  "inference_accelerator": [],
                  "placement_constraints": [],
                  "proxy_configuration": [],
                  "requires_compatibilities": [
                    false
                  ],
                  "runtime_platform": [],
                  "tags": {},
                  "tags_all": {},
                  "volume": []
                },
                "depends_on": [
                  "module.ecs-fargate.aws_cloudwatch_log_group.main",
                  "module.ecs-fargate.aws_iam_role.execution",
                  "module.ecs-fargate.aws_iam_role.task",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume",
                  "module.ecs-fargate.data.aws_region.current"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_iam_role.execution",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "execution",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-execution-role",
                  "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                  "create_date": "2022-04-27T00:00:09Z",
                  "description": "",
                  "force_detach_policies": false,
                  "id": "ecs-fargate-example-task-execution-role",
                  "inline_policy": [
                    {
                      "name": "ecs-fargate-example-task-execution",
                      "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                    }
                  ],
                  "managed_policy_arns": [],
                  "max_session_duration": 3600,
                  "name": "ecs-fargate-example-task-execution-role",
                  "name_prefix": "",
                  "path": "/",
                  "permissions_boundary": null,
                  "tags": {},
                  "tags_all": {},
                  "unique_id": "AROA5OKJEC3G44QI4DARQ"
                },
                "sensitive_values": {
                  "inline_policy": [
                    {}
                  ],
                  "managed_policy_arns": [],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_iam_role.task",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "task",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:iam::924108199629:role/ecs-fargate-example-task-role",
                  "assume_role_policy": "{\"Version\":\"2012-10-17\",\"Statement\":[{\"Sid\":\"\",\"Effect\":\"Allow\",\"Principal\":{\"Service\":\"ecs-tasks.amazonaws.com\"},\"Action\":\"sts:AssumeRole\"}]}",
                  "create_date": "2022-04-27T00:00:09Z",
                  "description": "",
                  "force_detach_policies": false,
                  "id": "ecs-fargate-example-task-role",
                  "inline_policy": [
                    {
                      "name": "ecs-fargate-example-ecs-exec-permissions",
                      "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}"
                    },
                    {
                      "name": "ecs-fargate-example-log-permissions",
                      "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}"
                    }
                  ],
                  "managed_policy_arns": [],
                  "max_session_duration": 3600,
                  "name": "ecs-fargate-example-task-role",
                  "name_prefix": "",
                  "path": "/",
                  "permissions_boundary": null,
                  "tags": {},
                  "tags_all": {},
                  "unique_id": "AROA5OKJEC3GTBTCO7KKC"
                },
                "sensitive_values": {
                  "inline_policy": [
                    {},
                    {}
                  ],
                  "managed_policy_arns": [],
                  "tags": {},
                  "tags_all": {}
                },
                "depends_on": [
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_iam_role_policy.ecs_exec_inline_policy[0]",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "ecs_exec_inline_policy",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "ecs-fargate-example-task-role:ecs-fargate-example-ecs-exec-permissions",
                  "name": "ecs-fargate-example-ecs-exec-permissions",
                  "name_prefix": null,
                  "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                  "role": "ecs-fargate-example-task-role"
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.ecs-fargate.aws_iam_role.task",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_ecs_exec_policy"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_iam_role_policy.log_agent",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "log_agent",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "ecs-fargate-example-task-role:ecs-fargate-example-log-permissions",
                  "name": "ecs-fargate-example-log-permissions",
                  "name_prefix": null,
                  "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}",
                  "role": "ecs-fargate-example-task-role"
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.ecs-fargate.aws_cloudwatch_log_group.main",
                  "module.ecs-fargate.aws_iam_role.task",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_permissions"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_iam_role_policy.task_execution",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "task_execution",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "ecs-fargate-example-task-execution-role:ecs-fargate-example-task-execution",
                  "name": "ecs-fargate-example-task-execution",
                  "name_prefix": null,
                  "policy": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                  "role": "ecs-fargate-example-task-execution-role"
                },
                "sensitive_values": {},
                "depends_on": [
                  "module.ecs-fargate.aws_iam_role.execution",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_assume",
                  "module.ecs-fargate.data.aws_iam_policy_document.task_execution_permissions"
                ]
              },
              {
                "address": "module.ecs-fargate.aws_lb_target_group.task[\"tg-fargate-example\"]",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "task",
                "index": "tg-fargate-example",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                  "arn_suffix": "targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                  "connection_termination": false,
                  "deregistration_delay": "300",
                  "health_check": [
                    {
                      "enabled": true,
                      "healthy_threshold": 3,
                      "interval": 30,
                      "matcher": "200",
                      "path": "/",
                      "port": "traffic-port",
                      "protocol": "HTTP",
                      "timeout": 5,
                      "unhealthy_threshold": 3
                    }
                  ],
                  "id": "arn:aws:elasticloadbalancing:us-east-1:924108199629:targetgroup/tg-fargate-example/74e41dc90e3c16dc",
                  "lambda_multi_value_headers_enabled": false,
                  "load_balancing_algorithm_type": "round_robin",
                  "name": "tg-fargate-example",
                  "name_prefix": null,
                  "port": 80,
                  "preserve_client_ip": null,
                  "protocol": "HTTP",
                  "protocol_version": "HTTP1",
                  "proxy_protocol_v2": false,
                  "slow_start": 0,
                  "stickiness": [
                    {
                      "cookie_duration": 86400,
                      "cookie_name": "",
                      "enabled": false,
                      "type": "lb_cookie"
                    }
                  ],
                  "tags": {
                    "Environment": "Week17",
                    "Name": "tg-fargate-example",
                    "Project": "Test"
                  },
                  "tags_all": {
                    "Environment": "Week17",
                    "Name": "tg-fargate-example",
                    "Project": "Test"
                  },
                  "target_type": "ip",
                  "vpc_id": "vpc-0cd6259a3297c6623"
                },
                "sensitive_values": {
                  "health_check": [
                    {}
                  ],
                  "stickiness": [
                    {}
                  ],
                  "tags": {},
                  "tags_all": {}
                }
              },
              {
                "address": "module.ecs-fargate.aws_security_group.ecs_service",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ecs_service",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 1,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:924108199629:security-group/sg-0a1abc8a3a4db2c52",
                  "description": "Fargate service security group",
                  "egress": [
                    {
                      "cidr_blocks": [
                        "0.0.0.0/0"
                      ],
                      "description": "",
                      "from_port": 0,
                      "ipv6_cidr_blocks": [
                        "::/0"
                      ],
                      "prefix_list_ids": [],
                      "protocol": "-1",
                      "security_groups": [],
                      "self": false,
                      "to_port": 0
                    }
                  ],
                  "id": "sg-0a1abc8a3a4db2c52",
                  "ingress": [],
                  "name": "ecs-fargate-example-ecs-service-sg-20220427000009858100000001",
                  "name_prefix": "ecs-fargate-example-ecs-service-sg-",
                  "owner_id": "924108199629",
                  "revoke_rules_on_delete": true,
                  "tags": {
                    "Environment": "Week17",
                    "Name": "ecs-fargate-example-ecs-service-sg",
                    "Project": "Test"
                  },
                  "tags_all": {
                    "Environment": "Week17",
                    "Name": "ecs-fargate-example-ecs-service-sg",
                    "Project": "Test"
                  },
                  "timeouts": null,
                  "vpc_id": "vpc-0cd6259a3297c6623"
                },
                "sensitive_values": {
                  "egress": [
                    {
                      "cidr_blocks": [
                        false
                      ],
                      "ipv6_cidr_blocks": [
                        false
                      ],
                      "prefix_list_ids": [],
                      "security_groups": []
                    }
                  ],
                  "ingress": [],
                  "tags": {},
                  "tags_all": {}
                }
              },
              {
                "address": "module.ecs-fargate.aws_security_group_rule.egress_service",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "egress_service",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 2,
                "values": {
                  "cidr_blocks": [
                    "0.0.0.0/0"
                  ],
                  "description": "",
                  "from_port": 0,
                  "id": "sgrule-3936769577",
                  "ipv6_cidr_blocks": [
                    "::/0"
                  ],
                  "prefix_list_ids": [],
                  "protocol": "-1",
                  "security_group_id": "sg-0a1abc8a3a4db2c52",
                  "self": false,
                  "source_security_group_id": null,
                  "to_port": 0,
                  "type": "egress"
                },
                "sensitive_values": {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [
                    false
                  ],
                  "prefix_list_ids": []
                },
                "depends_on": [
                  "module.ecs-fargate.aws_security_group.ecs_service"
                ]
              },
              {
                "address": "module.ecs-fargate.data.aws_iam_policy_document.task_assume",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_assume",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "320642683",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": \"sts:AssumeRole\",\n      \"Principal\": {\n        \"Service\": \"ecs-tasks.amazonaws.com\"\n      }\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "sts:AssumeRole"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            "ecs-tasks.amazonaws.com"
                          ],
                          "type": "Service"
                        }
                      ],
                      "resources": [],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [
                        {
                          "identifiers": [
                            false
                          ]
                        }
                      ],
                      "resources": []
                    }
                  ]
                }
              },
              {
                "address": "module.ecs-fargate.data.aws_iam_policy_document.task_ecs_exec_policy[0]",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_ecs_exec_policy",
                "index": 0,
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "2177423719",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"ssmmessages:OpenDataChannel\",\n        \"ssmmessages:OpenControlChannel\",\n        \"ssmmessages:CreateDataChannel\",\n        \"ssmmessages:CreateControlChannel\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "ssmmessages:CreateControlChannel",
                        "ssmmessages:CreateDataChannel",
                        "ssmmessages:OpenControlChannel",
                        "ssmmessages:OpenDataChannel"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        "*"
                      ],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false,
                        false,
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        false
                      ]
                    }
                  ]
                }
              },
              {
                "address": "module.ecs-fargate.data.aws_iam_policy_document.task_execution_permissions",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_execution_permissions",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "1420726984",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\",\n        \"ecr:GetDownloadUrlForLayer\",\n        \"ecr:GetAuthorizationToken\",\n        \"ecr:BatchGetImage\",\n        \"ecr:BatchCheckLayerAvailability\"\n      ],\n      \"Resource\": \"*\"\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "ecr:BatchCheckLayerAvailability",
                        "ecr:BatchGetImage",
                        "ecr:GetAuthorizationToken",
                        "ecr:GetDownloadUrlForLayer",
                        "logs:CreateLogStream",
                        "logs:PutLogEvents"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        "*"
                      ],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false,
                        false,
                        false,
                        false,
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        false
                      ]
                    }
                  ]
                }
              },
              {
                "address": "module.ecs-fargate.data.aws_iam_policy_document.task_permissions",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_permissions",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "id": "2409685330",
                  "json": "{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"\",\n      \"Effect\": \"Allow\",\n      \"Action\": [\n        \"logs:PutLogEvents\",\n        \"logs:CreateLogStream\"\n      ],\n      \"Resource\": [\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*\",\n        \"arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example\"\n      ]\n    }\n  ]\n}",
                  "override_json": null,
                  "override_policy_documents": null,
                  "policy_id": null,
                  "source_json": null,
                  "source_policy_documents": null,
                  "statement": [
                    {
                      "actions": [
                        "logs:CreateLogStream",
                        "logs:PutLogEvents"
                      ],
                      "condition": [],
                      "effect": "Allow",
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example",
                        "arn:aws:logs:us-east-1:924108199629:log-group:ecs-fargate-example:*"
                      ],
                      "sid": ""
                    }
                  ],
                  "version": "2012-10-17"
                },
                "sensitive_values": {
                  "statement": [
                    {
                      "actions": [
                        false,
                        false
                      ],
                      "condition": [],
                      "not_actions": [],
                      "not_principals": [],
                      "not_resources": [],
                      "principals": [],
                      "resources": [
                        false,
                        false
                      ]
                    }
                  ]
                }
              },
              {
                "address": "module.ecs-fargate.data.aws_region.current",
                "mode": "data",
                "type": "aws_region",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "description": "US East (N. Virginia)",
                  "endpoint": "ec2.us-east-1.amazonaws.com",
                  "id": "us-east-1",
                  "name": "us-east-1"
                },
                "sensitive_values": {}
              }
            ],
            "address": "module.ecs-fargate"
          }
        ]
      }
    }
  },
  "configuration": {
    "provider_config": {
      "aws": {
        "name": "aws",
        "version_constraint": "~> 3.0",
        "expressions": {
          "access_key": {
            "references": [
              "var.aws_access_key"
            ]
          },
          "region": {
            "constant_value": "us-east-1"
          },
          "secret_key": {
            "references": [
              "var.aws_secret_key"
            ]
          }
        }
      },
      "docker": {
        "name": "docker"
      },
      "module.ecs-fargate:aws": {
        "name": "aws",
        "version_constraint": ">= 3.34.0",
        "module_address": "module.ecs-fargate"
      }
    },
    "root_module": {
      "resources": [
        {
          "address": "aws_ecs_cluster.cluster",
          "mode": "managed",
          "type": "aws_ecs_cluster",
          "name": "cluster",
          "provider_config_key": "aws",
          "expressions": {
            "name": {
              "constant_value": "Test-ecs-cluster"
            },
            "setting": [
              {
                "name": {
                  "constant_value": "containerInsights"
                },
                "value": {
                  "constant_value": "disabled"
                }
              }
            ]
          },
          "schema_version": 0
        },
        {
          "address": "aws_ecs_cluster_capacity_providers.cluster",
          "mode": "managed",
          "type": "aws_ecs_cluster_capacity_providers",
          "name": "cluster",
          "provider_config_key": "aws",
          "expressions": {
            "capacity_providers": {
              "constant_value": [
                "FARGATE_SPOT",
                "FARGATE"
              ]
            },
            "cluster_name": {
              "references": [
                "aws_ecs_cluster.cluster.name",
                "aws_ecs_cluster.cluster"
              ]
            },
            "default_capacity_provider_strategy": [
              {
                "capacity_provider": {
                  "constant_value": "FARGATE_SPOT"
                }
              }
            ]
          },
          "schema_version": 0
        }
      ],
      "module_calls": {
        "ecs-fargate": {
          "source": "umotif-public/ecs-fargate/aws",
          "expressions": {
            "cluster_id": {
              "references": [
                "aws_ecs_cluster.cluster.id",
                "aws_ecs_cluster.cluster"
              ]
            },
            "health_check": {
              "constant_value": {
                "path": "/",
                "port": "traffic-port"
              }
            },
            "name_prefix": {
              "constant_value": "ecs-fargate-example"
            },
            "private_subnet_ids": {
              "constant_value": [
                "subnet-0b3232739afacf85f",
                "subnet-0c3ed3bf5493e95a3"
              ]
            },
            "tags": {
              "constant_value": {
                "Environment": "Week17",
                "Project": "Test"
              }
            },
            "target_groups": {
              "constant_value": [
                {
                  "container_port": 80,
                  "target_group_name": "tg-fargate-example"
                }
              ]
            },
            "task_container_assign_public_ip": {
              "constant_value": true
            },
            "task_container_image": {
              "constant_value": "centos"
            },
            "task_container_port": {
              "constant_value": 80
            },
            "task_definition_cpu": {
              "constant_value": 256
            },
            "task_definition_memory": {
              "constant_value": 512
            },
            "vpc_id": {
              "constant_value": "vpc-0cd6259a3297c6623"
            }
          },
          "module": {
            "outputs": {
              "execution_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.execution.arn",
                    "aws_iam_role.execution"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the ECS execution role."
              },
              "execution_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.execution.name",
                    "aws_iam_role.execution"
                  ]
                },
                "description": "The name of the ECS execution role."
              },
              "log_group_name": {
                "expression": {
                  "references": [
                    "aws_cloudwatch_log_group.main.name",
                    "aws_cloudwatch_log_group.main"
                  ]
                },
                "description": "The name of the Cloudwatch log group for the task."
              },
              "service_arn": {
                "expression": {
                  "references": [
                    "aws_ecs_service.service.id",
                    "aws_ecs_service.service"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) that identifies the ECS service."
              },
              "service_name": {
                "expression": {
                  "references": [
                    "aws_ecs_service.service.name",
                    "aws_ecs_service.service"
                  ]
                },
                "description": "The name of the service."
              },
              "service_sg_id": {
                "expression": {
                  "references": [
                    "aws_security_group.ecs_service.id",
                    "aws_security_group.ecs_service"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) that identifies the service security group."
              },
              "target_group_arn": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.task"
                  ]
                },
                "description": "The ARN of the Target Group used by Load Balancer."
              },
              "target_group_name": {
                "expression": {
                  "references": [
                    "aws_lb_target_group.task"
                  ]
                },
                "description": "The Name of the Target Group used by Load Balancer."
              },
              "task_definition_arn": {
                "expression": {
                  "references": [
                    "aws_ecs_task_definition.task.arn",
                    "aws_ecs_task_definition.task"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) of the task definition created"
              },
              "task_definition_name": {
                "expression": {
                  "references": [
                    "aws_ecs_task_definition.task.arn",
                    "aws_ecs_task_definition.task"
                  ]
                },
                "description": "The name of the task definition created"
              },
              "task_role_arn": {
                "expression": {
                  "references": [
                    "aws_iam_role.task.arn",
                    "aws_iam_role.task"
                  ]
                },
                "description": "The Amazon Resource Name (ARN) specifying the ECS service role."
              },
              "task_role_name": {
                "expression": {
                  "references": [
                    "aws_iam_role.task.name",
                    "aws_iam_role.task"
                  ]
                },
                "description": "The name of the Fargate task service role."
              }
            },
            "resources": [
              {
                "address": "aws_cloudwatch_log_group.main",
                "mode": "managed",
                "type": "aws_cloudwatch_log_group",
                "name": "main",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "kms_key_id": {
                    "references": [
                      "var.logs_kms_key"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "retention_in_days": {
                    "references": [
                      "var.log_retention_in_days"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_ecs_service.service",
                "mode": "managed",
                "type": "aws_ecs_service",
                "name": "service",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "cluster": {
                    "references": [
                      "var.cluster_id"
                    ]
                  },
                  "deployment_controller": [
                    {
                      "type": {
                        "references": [
                          "var.deployment_controller_type"
                        ]
                      }
                    }
                  ],
                  "deployment_maximum_percent": {
                    "references": [
                      "var.deployment_maximum_percent"
                    ]
                  },
                  "deployment_minimum_healthy_percent": {
                    "references": [
                      "var.deployment_minimum_healthy_percent"
                    ]
                  },
                  "desired_count": {
                    "references": [
                      "var.desired_count"
                    ]
                  },
                  "enable_execute_command": {
                    "references": [
                      "var.enable_execute_command"
                    ]
                  },
                  "force_new_deployment": {
                    "references": [
                      "var.force_new_deployment"
                    ]
                  },
                  "health_check_grace_period_seconds": {
                    "references": [
                      "var.load_balanced",
                      "var.health_check_grace_period_seconds"
                    ]
                  },
                  "launch_type": {
                    "references": [
                      "var.capacity_provider_strategy"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "network_configuration": [
                    {
                      "assign_public_ip": {
                        "references": [
                          "var.task_container_assign_public_ip"
                        ]
                      },
                      "security_groups": {
                        "references": [
                          "aws_security_group.ecs_service.id",
                          "aws_security_group.ecs_service"
                        ]
                      },
                      "subnets": {
                        "references": [
                          "var.private_subnet_ids"
                        ]
                      }
                    }
                  ],
                  "platform_version": {
                    "references": [
                      "var.platform_version"
                    ]
                  },
                  "propagate_tags": {
                    "references": [
                      "var.propogate_tags"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.name_prefix"
                    ]
                  },
                  "task_definition": {
                    "references": [
                      "aws_ecs_task_definition.task.arn",
                      "aws_ecs_task_definition.task"
                    ]
                  },
                  "wait_for_steady_state": {
                    "references": [
                      "var.wait_for_steady_state"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_ecs_task_definition.task",
                "mode": "managed",
                "type": "aws_ecs_task_definition",
                "name": "task",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "container_definitions": {
                    "references": [
                      "var.container_name",
                      "var.container_name",
                      "var.name_prefix",
                      "var.task_container_image",
                      "var.repository_credentials",
                      "var.repository_credentials",
                      "var.task_container_port",
                      "var.task_host_port",
                      "var.task_host_port",
                      "var.task_host_port",
                      "var.task_container_port",
                      "var.task_container_port",
                      "aws_cloudwatch_log_group.main.name",
                      "aws_cloudwatch_log_group.main",
                      "data.aws_region.current.name",
                      "data.aws_region.current",
                      "var.task_health_check",
                      "var.task_health_check.command",
                      "var.task_health_check",
                      "var.task_health_check.interval",
                      "var.task_health_check",
                      "var.task_health_check.timeout",
                      "var.task_health_check",
                      "var.task_health_check.retries",
                      "var.task_health_check",
                      "var.task_health_check.startPeriod",
                      "var.task_health_check",
                      "var.task_container_command",
                      "var.task_container_working_directory",
                      "var.task_container_working_directory",
                      "var.task_container_memory",
                      "var.task_container_memory",
                      "var.task_container_memory_reservation",
                      "var.task_container_memory_reservation",
                      "var.task_container_cpu",
                      "var.task_container_cpu",
                      "var.task_start_timeout",
                      "var.task_start_timeout",
                      "var.task_stop_timeout",
                      "var.task_stop_timeout",
                      "var.task_mount_points",
                      "var.task_mount_points",
                      "var.task_container_secrets",
                      "var.task_container_secrets",
                      "local.task_environment"
                    ]
                  },
                  "cpu": {
                    "references": [
                      "var.task_definition_cpu"
                    ]
                  },
                  "execution_role_arn": {
                    "references": [
                      "aws_iam_role.execution.arn",
                      "aws_iam_role.execution"
                    ]
                  },
                  "family": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "memory": {
                    "references": [
                      "var.task_definition_memory"
                    ]
                  },
                  "network_mode": {
                    "constant_value": "awsvpc"
                  },
                  "requires_compatibilities": {
                    "constant_value": [
                      "FARGATE"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.container_name",
                      "var.container_name",
                      "var.name_prefix"
                    ]
                  },
                  "task_role_arn": {
                    "references": [
                      "aws_iam_role.task.arn",
                      "aws_iam_role.task"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_iam_role.execution",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "execution",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.task_assume.json",
                      "data.aws_iam_policy_document.task_assume"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role.task",
                "mode": "managed",
                "type": "aws_iam_role",
                "name": "task",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "assume_role_policy": {
                    "references": [
                      "data.aws_iam_policy_document.task_assume.json",
                      "data.aws_iam_policy_document.task_assume"
                    ]
                  },
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy.ecs_exec_inline_policy",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "ecs_exec_inline_policy",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.task_ecs_exec_policy[0].json",
                      "data.aws_iam_policy_document.task_ecs_exec_policy[0]",
                      "data.aws_iam_policy_document.task_ecs_exec_policy"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.task.id",
                      "aws_iam_role.task"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.enable_execute_command"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy.log_agent",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "log_agent",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.task_permissions.json",
                      "data.aws_iam_policy_document.task_permissions"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.task.id",
                      "aws_iam_role.task"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_iam_role_policy.read_repository_credentials",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "read_repository_credentials",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.read_repository_credentials[0].json",
                      "data.aws_iam_policy_document.read_repository_credentials[0]",
                      "data.aws_iam_policy_document.read_repository_credentials"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.execution.id",
                      "aws_iam_role.execution"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_repository_credentials_iam_policy"
                  ]
                }
              },
              {
                "address": "aws_iam_role_policy.task_execution",
                "mode": "managed",
                "type": "aws_iam_role_policy",
                "name": "task_execution",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "var.name_prefix"
                    ]
                  },
                  "policy": {
                    "references": [
                      "data.aws_iam_policy_document.task_execution_permissions.json",
                      "data.aws_iam_policy_document.task_execution_permissions"
                    ]
                  },
                  "role": {
                    "references": [
                      "aws_iam_role.execution.id",
                      "aws_iam_role.execution"
                    ]
                  }
                },
                "schema_version": 0
              },
              {
                "address": "aws_lb_target_group.task",
                "mode": "managed",
                "type": "aws_lb_target_group",
                "name": "task",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "name": {
                    "references": [
                      "each.value"
                    ]
                  },
                  "port": {
                    "references": [
                      "each.value",
                      "var.task_container_port"
                    ]
                  },
                  "protocol": {
                    "references": [
                      "var.task_container_protocol"
                    ]
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "each.value"
                    ]
                  },
                  "target_type": {
                    "constant_value": "ip"
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 0,
                "for_each_expression": {
                  "references": [
                    "var.load_balanced",
                    "var.target_groups"
                  ]
                }
              },
              {
                "address": "aws_security_group.ecs_service",
                "mode": "managed",
                "type": "aws_security_group",
                "name": "ecs_service",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "description": {
                    "constant_value": "Fargate service security group"
                  },
                  "name_prefix": {
                    "references": [
                      "var.sg_name_prefix",
                      "var.name_prefix",
                      "var.sg_name_prefix"
                    ]
                  },
                  "revoke_rules_on_delete": {
                    "constant_value": true
                  },
                  "tags": {
                    "references": [
                      "var.tags",
                      "var.sg_name_prefix",
                      "var.name_prefix",
                      "var.sg_name_prefix"
                    ]
                  },
                  "vpc_id": {
                    "references": [
                      "var.vpc_id"
                    ]
                  }
                },
                "schema_version": 1
              },
              {
                "address": "aws_security_group_rule.egress_service",
                "mode": "managed",
                "type": "aws_security_group_rule",
                "name": "egress_service",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "cidr_blocks": {
                    "constant_value": [
                      "0.0.0.0/0"
                    ]
                  },
                  "from_port": {
                    "constant_value": 0
                  },
                  "ipv6_cidr_blocks": {
                    "constant_value": [
                      "::/0"
                    ]
                  },
                  "protocol": {
                    "constant_value": "-1"
                  },
                  "security_group_id": {
                    "references": [
                      "aws_security_group.ecs_service.id",
                      "aws_security_group.ecs_service"
                    ]
                  },
                  "to_port": {
                    "constant_value": 0
                  },
                  "type": {
                    "constant_value": "egress"
                  }
                },
                "schema_version": 2
              },
              {
                "address": "data.aws_iam_policy_document.read_repository_credentials",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "read_repository_credentials",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "secretsmanager:GetSecretValue",
                          "kms:Decrypt"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "references": [
                          "var.repository_credentials",
                          "data.aws_kms_key.secretsmanager_key[0].arn",
                          "data.aws_kms_key.secretsmanager_key[0]",
                          "data.aws_kms_key.secretsmanager_key"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_repository_credentials_iam_policy"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.task_assume",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_assume",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "sts:AssumeRole"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "principals": [
                        {
                          "identifiers": {
                            "constant_value": [
                              "ecs-tasks.amazonaws.com"
                            ]
                          },
                          "type": {
                            "constant_value": "Service"
                          }
                        }
                      ]
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy_document.task_ecs_exec_policy",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_ecs_exec_policy",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ssmmessages:CreateControlChannel",
                          "ssmmessages:CreateDataChannel",
                          "ssmmessages:OpenControlChannel",
                          "ssmmessages:OpenDataChannel"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.enable_execute_command"
                  ]
                }
              },
              {
                "address": "data.aws_iam_policy_document.task_execution_permissions",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_execution_permissions",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "ecr:GetAuthorizationToken",
                          "ecr:BatchCheckLayerAvailability",
                          "ecr:GetDownloadUrlForLayer",
                          "ecr:BatchGetImage",
                          "logs:CreateLogStream",
                          "logs:PutLogEvents"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "constant_value": [
                          "*"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_iam_policy_document.task_permissions",
                "mode": "data",
                "type": "aws_iam_policy_document",
                "name": "task_permissions",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "statement": [
                    {
                      "actions": {
                        "constant_value": [
                          "logs:CreateLogStream",
                          "logs:PutLogEvents"
                        ]
                      },
                      "effect": {
                        "constant_value": "Allow"
                      },
                      "resources": {
                        "references": [
                          "aws_cloudwatch_log_group.main.arn",
                          "aws_cloudwatch_log_group.main",
                          "aws_cloudwatch_log_group.main.arn",
                          "aws_cloudwatch_log_group.main"
                        ]
                      }
                    }
                  ]
                },
                "schema_version": 0
              },
              {
                "address": "data.aws_kms_key.secretsmanager_key",
                "mode": "data",
                "type": "aws_kms_key",
                "name": "secretsmanager_key",
                "provider_config_key": "ecs-fargate:aws",
                "expressions": {
                  "key_id": {
                    "references": [
                      "var.repository_credentials_kms_key"
                    ]
                  }
                },
                "schema_version": 0,
                "count_expression": {
                  "references": [
                    "var.create_repository_credentials_iam_policy"
                  ]
                }
              },
              {
                "address": "data.aws_region.current",
                "mode": "data",
                "type": "aws_region",
                "name": "current",
                "provider_config_key": "ecs-fargate:aws",
                "schema_version": 0
              }
            ],
            "variables": {
              "capacity_provider_strategy": {
                "default": [],
                "description": "(Optional) The capacity_provider_strategy configuration block. This is a list of maps, where each map should contain \"capacity_provider \", \"weight\" and \"base\""
              },
              "cluster_id": {
                "description": "The Amazon Resource Name (ARN) that identifies the cluster."
              },
              "container_name": {
                "default": "",
                "description": "Optional name for the container to be used instead of name_prefix."
              },
              "create_repository_credentials_iam_policy": {
                "default": false,
                "description": "Set to true if you are specifying `repository_credentials` variable, it will attach IAM policy with necessary permissions to task role."
              },
              "deployment_controller_type": {
                "default": "ECS",
                "description": "Type of deployment controller. Valid values: CODE_DEPLOY, ECS, EXTERNAL. Default: ECS."
              },
              "deployment_maximum_percent": {
                "default": 200,
                "description": "The upper limit of the number of running tasks that can be running in a service during a deployment"
              },
              "deployment_minimum_healthy_percent": {
                "default": 50,
                "description": "The lower limit of the number of running tasks that must remain running and healthy in a service during a deployment"
              },
              "desired_count": {
                "default": 1,
                "description": "The number of instances of the task definitions to place and keep running."
              },
              "enable_execute_command": {
                "default": true,
                "description": "Specifies whether to enable Amazon ECS Exec for the tasks within the service."
              },
              "force_new_deployment": {
                "default": false,
                "description": "Enable to force a new task deployment of the service. This can be used to update tasks to use a newer Docker image with same image/tag combination (e.g. myimage:latest), roll Fargate tasks onto a newer platform version."
              },
              "health_check": {
                "description": "A health block containing health check settings for the target group. Overrides the defaults."
              },
              "health_check_grace_period_seconds": {
                "default": 300,
                "description": "Seconds to ignore failing load balancer health checks on newly instantiated tasks to prevent premature shutdown, up to 7200. Only valid for services configured to use load balancers."
              },
              "load_balanced": {
                "default": true,
                "description": "Whether the task should be loadbalanced."
              },
              "log_retention_in_days": {
                "default": 30,
                "description": "Number of days the logs will be retained in CloudWatch."
              },
              "logs_kms_key": {
                "default": "",
                "description": "The KMS key ARN to use to encrypt container logs."
              },
              "name_prefix": {
                "description": "A prefix used for naming resources."
              },
              "placement_constraints": {
                "default": [],
                "description": "(Optional) A set of placement constraints rules that are taken into consideration during task placement. Maximum number of placement_constraints is 10. This is a list of maps, where each map should contain \"type\" and \"expression\""
              },
              "platform_version": {
                "default": "LATEST",
                "description": "The platform version on which to run your service. Only applicable for launch_type set to FARGATE."
              },
              "private_subnet_ids": {
                "description": "A list of private subnets inside the VPC"
              },
              "propogate_tags": {
                "default": "TASK_DEFINITION",
                "description": "Specifies whether to propagate the tags from the task definition or the service to the tasks. The valid values are SERVICE and TASK_DEFINITION."
              },
              "proxy_configuration": {
                "default": [],
                "description": "(Optional) The proxy configuration details for the App Mesh proxy. This is a list of maps, where each map should contain \"container_name\", \"properties\" and \"type\""
              },
              "repository_credentials": {
                "default": "",
                "description": "name or ARN of a secrets manager secret (arn:aws:secretsmanager:region:aws_account_id:secret:secret_name)"
              },
              "repository_credentials_kms_key": {
                "default": "alias/aws/secretsmanager",
                "description": "key id, key ARN, alias name or alias ARN of the key that encrypted the repository credentials"
              },
              "service_registry_arn": {
                "default": "",
                "description": "ARN of aws_service_discovery_service resource"
              },
              "sg_name_prefix": {
                "default": "",
                "description": "A prefix used for Security group name."
              },
              "tags": {
                "default": {},
                "description": "A map of tags (key-value pairs) passed to resources."
              },
              "target_groups": {
                "default": [],
                "description": "The name of the target groups to associate with ecs service"
              },
              "task_container_assign_public_ip": {
                "default": false,
                "description": "Assigned public IP to the container."
              },
              "task_container_command": {
                "default": [],
                "description": "The command that is passed to the container."
              },
              "task_container_cpu": {
                "default": null,
                "description": "Amount of CPU to reserve for the container."
              },
              "task_container_environment": {
                "default": {},
                "description": "The environment variables to pass to a container."
              },
              "task_container_image": {
                "description": "The image used to start a container."
              },
              "task_container_memory": {
                "default": null,
                "description": "The hard limit (in MiB) of memory for the container."
              },
              "task_container_memory_reservation": {
                "default": null,
                "description": "The soft limit (in MiB) of memory to reserve for the container."
              },
              "task_container_port": {
                "description": "The port number on the container that is bound to the user-specified or automatically assigned host port"
              },
              "task_container_protocol": {
                "default": "HTTP",
                "description": "Protocol that the container exposes."
              },
              "task_container_secrets": {
                "default": null,
                "description": "The secrets variables to pass to a container."
              },
              "task_container_working_directory": {
                "default": "",
                "description": "The working directory to run commands inside the container."
              },
              "task_definition_cpu": {
                "default": 256,
                "description": "Amount of CPU to reserve for the task."
              },
              "task_definition_memory": {
                "default": 512,
                "description": "The soft limit (in MiB) of memory to reserve for the task."
              },
              "task_health_check": {
                "default": null,
                "description": "An optional healthcheck definition for the task"
              },
              "task_host_port": {
                "default": 0,
                "description": "The port number on the container instance to reserve for your container."
              },
              "task_mount_points": {
                "default": null,
                "description": "The mount points for data volumes in your container. Each object inside the list requires \"sourceVolume\", \"containerPath\" and \"readOnly\". For more information see https://docs.aws.amazon.com/AmazonECS/latest/developerguide/task_definition_parameters.html "
              },
              "task_start_timeout": {
                "default": null,
                "description": "Time duration (in seconds) to wait before giving up on resolving dependencies for a container. If this parameter is not specified, the default value of 3 minutes is used (fargate)."
              },
              "task_stop_timeout": {
                "default": null,
                "description": "Time duration (in seconds) to wait before the container is forcefully killed if it doesn't exit normally on its own. The max stop timeout value is 120 seconds and if the parameter is not specified, the default value of 30 seconds is used."
              },
              "volume": {
                "default": [],
                "description": "(Optional) A set of volume blocks that containers in your task may use. This is a list of maps, where each map should contain \"name\", \"host_path\", \"docker_volume_configuration\" and \"efs_volume_configuration\". Full set of options can be found at https://www.terraform.io/docs/providers/aws/r/ecs_task_definition.html"
              },
              "vpc_id": {
                "description": "The VPC ID."
              },
              "wait_for_steady_state": {
                "default": false,
                "description": "If true, Terraform will wait for the service to reach a steady state (like aws ecs wait services-stable) before continuing."
              }
            }
          },
          "version_constraint": "~> 6.1.0"
        }
      },
      "variables": {
        "aws_access_key": {
          "sensitive": true
        },
        "aws_secret_key": {
          "sensitive": true
        }
      }
    }
  }
}
